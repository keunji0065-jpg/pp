<!DOCTYPE html>
<html lang="ko" class="antialiased">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- ìºì‹œ ë°©ì§€ ë©”íƒ€ íƒœê·¸ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <title>ê¹”ë¡œ ì£¼ë¬¸ì„œ PRO (ìŠ¤ë§ˆíŠ¸ ìë™ë§¤ì¹­ ì™„ë²½ìˆ˜ì •)</title>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web" crossorigin="anonymous"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    
    <script>
        tailwind.config = { 
            darkMode: 'class', 
            theme: { 
                extend: { 
                    fontFamily: { sans: ['NanumSquareNeo', 'Pretendard', 'sans-serif'] }, 
                    colors: { brand: { 50: '#f0f4f8', 500: '#627d98', 600: '#486581', 700: '#334e68' }, kakao: '#FEE500' } 
                } 
            } 
        }
    </script>
    <style>
        @import url("https://cdn.jsdelivr.net/gh/moonspam/NanumSquareNeo/nanumsquareneo.css");
        body { font-family: 'NanumSquareNeo', sans-serif; background-color: #f8fafc; }
        ::-webkit-scrollbar { width: 5px; } ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        .processed-chat { text-decoration: line-through; background-color: #f1f5f9 !important; color: #94a3b8 !important; opacity: 0.6; }
        .selected-chat-active { border-left: 3px solid #3b82f6; background-color: #eff6ff; }
        .keyword-detected { border: 2px solid #60a5fa; background-color: #eff6ff; }
        .copy-anim { animation: copySuccess 0.3s ease-in-out; }
        .animate-pop { animation: pop 0.2s ease-out; }
        @keyframes pop { 0% { transform: scale(0.9); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        @keyframes copySuccess { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* ì²´í¬ë°•ìŠ¤ ì»¤ìŠ¤í…€ */
        .custom-checkbox {
            appearance: none;
            background-color: #fff;
            margin: 0;
            font: inherit;
            color: currentColor;
            width: 1.4em;
            height: 1.4em;
            border: 2px solid #cbd5e1;
            border-radius: 4px;
            display: grid;
            place-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .custom-checkbox::before {
            content: "";
            width: 0.8em;
            height: 0.8em;
            transform: scale(0);
            transition: 120ms transform ease-in-out;
            box-shadow: inset 1em 1em white;
            background-color: white;
            transform-origin: center;
            clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
        }
        .custom-checkbox:checked {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        .custom-checkbox:checked::before {
            transform: scale(1);
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef, useCallback } = React;

        const DEFAULT_GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbx-xAIb3GT5gRO69jwJu_wROo-2UuozJ8fY-MAeuEtllmAIbu_J-Uh5oPX71YJ9Omnhbw/exec";
        const FIXED_BANK_ACCOUNT = "ì¹´ì¹´ì˜¤ë±…í¬ ê¹€ì„ ì •\n7942 18 01611";
        const DEFAULT_CUSTOMER_SHEET_ID = "1zlL6R8iCy-6ZRMqj6dbefhkwSyRzHibDYBNJLmE35bM";
        
        const Icon = ({ name, className="", weight="regular", size }) => <i className={`ph ph-${name} ${className}`} data-phosphor-icon-weight={weight} style={{fontSize: size}}></i>;
        const normalizeString = (str) => String(str || '').replace(/[\s\(\)\[\]\{\}\-\_\.\,\/]/g, '').toLowerCase();

        const useLocalStorage = (key, initialValue) => {
            const [storedValue, setStoredValue] = useState(() => {
                try {
                    const item = window.localStorage.getItem(key);
                    return item ? JSON.parse(item) : initialValue;
                } catch (error) { return initialValue; }
            });
            const setValue = (value) => {
                try {
                    const valueToStore = value instanceof Function ? value(storedValue) : value;
                    setStoredValue(valueToStore);
                    window.localStorage.setItem(key, JSON.stringify(valueToStore));
                } catch (error) { console.log(error); }
            };
            return [storedValue, setValue];
        };

        const downloadExcel = (data, fileName) => {
            const ws = XLSX.utils.json_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Sheet1");
            XLSX.writeFile(wb, `${fileName}_${new Date().toLocaleDateString()}.xlsx`);
        };

        const Modal = ({ isOpen, type, message, onConfirm, onCancel, initialValue }) => {
            const [inputValue, setInputValue] = useState(initialValue || '');
            const inputRef = useRef(null);
            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (!isOpen) return;
                    if (type !== 'prompt') { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); onConfirm(); } } 
                    else { if (e.key === 'Enter') onConfirm(inputValue); }
                    if (e.key === 'Escape' && type !== 'alert') onCancel();
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [isOpen, type, inputValue, onConfirm, onCancel]);
            
            useEffect(() => { if (isOpen && type === 'prompt' && inputRef.current) { setInputValue(initialValue || ''); setTimeout(() => inputRef.current.focus(), 100); } }, [isOpen, type, initialValue]);
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] animate-pop" onClick={type === 'alert' ? () => onConfirm() : undefined}>
                    <div className="bg-white rounded-xl shadow-2xl p-6 w-80 max-w-sm" onClick={e => e.stopPropagation()}>
                        <div className="mb-4">
                            <h3 className="text-lg font-bold text-center text-gray-800 mb-2">{type === 'confirm' ? 'í™•ì¸' : type === 'prompt' ? 'ì…ë ¥' : 'ì•Œë¦¼'}</h3>
                            <p className="text-sm text-gray-600 text-center whitespace-pre-wrap leading-relaxed">{message}</p>
                        </div>
                        {type === 'prompt' && (<input ref={inputRef} type="text" value={inputValue} onChange={(e) => setInputValue(e.target.value)} className="w-full border rounded-lg px-3 py-2 mb-5 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-gray-50"/>)}
                        <div className="flex gap-2">
                            {type !== 'alert' && (<button onClick={onCancel} className="flex-1 py-2.5 rounded-lg text-sm font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors">ì·¨ì†Œ</button>)}
                            <button onClick={() => type === 'prompt' ? onConfirm(inputValue) : onConfirm()} className="flex-1 py-2.5 rounded-lg text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 transition-colors shadow-sm">í™•ì¸</button>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [isLoggedIn, setIsLoggedIn] = useState(true);
            const [orders, setOrders] = useLocalStorage('youtubeOrders', []);
            const [activeTab, setActiveTab] = useState('live');
            const [quickShipping, setQuickShipping] = useState(4000); 
            const [bankAccount, setBankAccount] = useLocalStorage('bankAccount', FIXED_BANK_ACCOUNT);
            const [productHistory, setProductHistory] = useLocalStorage('productHistory', {});
            const [shippingOverrides, setShippingOverrides] = useLocalStorage('shippingOverrides', {});
            const [addresses, setAddresses] = useLocalStorage('verifiedAddresses', []);
            const [cardPayments, setCardPayments] = useLocalStorage('cardPayments', {});
            const [csData, setCsData] = useLocalStorage('csHistory', []);
            const [matchedDeposits, setMatchedDeposits] = useState(() => { const saved = localStorage.getItem('matchedDeposits'); return saved ? new Set(JSON.parse(saved)) : new Set(); });
            const [depositorNames, setDepositorNames] = useLocalStorage('depositorNames', {});
            const [clickedChats, setClickedChats] = useState(() => { const saved = localStorage.getItem('clickedChats'); return saved ? new Set(JSON.parse(saved)) : new Set(); });
            const [keywords, setKeywords] = useState(() => { const saved = localStorage.getItem('keywords'); return saved ? new Set(JSON.parse(saved)) : new Set(); });
            const [sentAddressRequests, setSentAddressRequests] = useState(() => { const saved = localStorage.getItem('sentAddressRequests'); return saved ? new Set(JSON.parse(saved)) : new Set(); });
            const [deletedDepositIds, setDeletedDepositIds] = useState(() => { const saved = localStorage.getItem('deletedDepositIds'); return saved ? new Set(JSON.parse(saved)) : new Set(); });
            const [checkedOrders, setCheckedOrders] = useState(() => { const saved = localStorage.getItem('checkedOrders'); return saved ? new Set(JSON.parse(saved)) : new Set(); });
            const [addressMapping, setAddressMapping] = useLocalStorage('addressMapping', {});
            const [specialCustomers, setSpecialCustomers] = useLocalStorage('specialCustomers', {});
            const [inventory, setInventory] = useLocalStorage('productInventory', {});
            const [templateConfig, setTemplateConfig] = useLocalStorage('templateConfig', { emoji: 'ğŸ’™', paidMsg: 'ğŸ˜ ì™„ë‚© í™•ì¸! ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ˜', unpaidPrefix: '[ë¯¸ì…ê¸ˆ]\nì´ ì…ê¸ˆí•˜ì‹¤ ê¸ˆì•¡\nğŸ‘‰', addrNotice: 'â€» ë°°ì†¡ì§€ ë³€ê²½ ì‹œ ì±„íŒ…ìœ¼ë¡œ ë³€ê²½í•  ì£¼ì†Œë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!', surveyNotice: 'ë°©ì†¡ë§ˆë‹¤ 1íšŒ\ní•˜ë‹¨ì˜ ì£¼ë¬¸ì„œ(ë°°ì†¡ì§€ì…ë ¥) í•„ìˆ˜!!\n\nì´ë¯¸ ì°¸ì—¬í•œ ì„¤ë¬¸ ì¼ ê²½ìš°\nâ–« ë‹µë³€ ìˆ˜ì •í•˜ê¸° \nâ–« ë˜ëŠ” ì„¤ë¬¸ ì¶”ê°€ ì°¸ì—¬\n\në¯¸ì…ë ¥ì´ ë§ì•„ ê³„ì† ì•ˆë‚´í•©ë‹ˆë‹¤. \nì–‘í•´ë¶€íƒë“œë¦½ë‹ˆë‹¤.' });
            const [isSettingsOpen, setIsSettingsOpen] = useState(false);
            const [googleScriptUrl, setGoogleScriptUrl] = useLocalStorage('googleScriptUrl', DEFAULT_GOOGLE_SCRIPT_URL);
            const [customerSheetId, setCustomerSheetId] = useLocalStorage('customerSheetId', DEFAULT_CUSTOMER_SHEET_ID);
            const [modalConfig, setModalConfig] = useState({ isOpen: false, type: 'alert', message: '', onConfirm: null, initialValue: '' });

            const openModal = (message, type = 'alert', onConfirm = null, onCancel = null, initialValue = '') => { setModalConfig({ isOpen: true, type, message, onConfirm: (val) => { if (onConfirm) onConfirm(val); setModalConfig(prev => ({ ...prev, isOpen: false })); }, onCancel: () => { if (onCancel) onCancel(); setModalConfig(prev => ({ ...prev, isOpen: false })); }, initialValue }); };
            
            useEffect(() => { localStorage.setItem('matchedDeposits', JSON.stringify([...matchedDeposits])); }, [matchedDeposits]);
            useEffect(() => { localStorage.setItem('clickedChats', JSON.stringify([...clickedChats])); }, [clickedChats]);
            useEffect(() => { localStorage.setItem('keywords', JSON.stringify([...keywords])); }, [keywords]);
            useEffect(() => { localStorage.setItem('sentAddressRequests', JSON.stringify([...sentAddressRequests])); }, [sentAddressRequests]);
            useEffect(() => { localStorage.setItem('deletedDepositIds', JSON.stringify([...deletedDepositIds])); }, [deletedDepositIds]);
            useEffect(() => { localStorage.setItem('checkedOrders', JSON.stringify([...checkedOrders])); }, [checkedOrders]);

            const resetAllStatus = () => {
                openModal("ì£¼ë¬¸ì„œ, ì±„íŒ…, ì…ê¸ˆë§¤ì¹­ ë‚´ì—­ë§Œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.\n(ì£¼ì†Œë¡, VIPëª…ë‹¨, ì¬ê³ , ìƒí’ˆë‹¨ê°€ëŠ” ìœ ì§€ë©ë‹ˆë‹¤)", 'confirm', () => {
                    setOrders([]); setCardPayments({}); setShippingOverrides({}); setMatchedDeposits(new Set()); setClickedChats(new Set()); setSentAddressRequests(new Set()); setDeletedDepositIds(new Set()); setCheckedOrders(new Set());
                    ['youtubeOrders', 'cardPayments', 'shippingOverrides', 'matchedDeposits', 'clickedChats', 'sentAddressRequests', 'deletedDepositIds', 'checkedOrders'].forEach(k => localStorage.removeItem(k));
                    openModal("ë°©ì†¡ ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.\n(ê³ ê° ì •ë³´ì™€ ì¬ê³ ëŠ” ì•ˆì „í•˜ê²Œ ë³´ì¡´ë˜ì—ˆìŠµë‹ˆë‹¤.)", 'alert');
                });
            };
            
            const handleExportBackup = () => { const backupData = { date: new Date().toISOString(), orders, productHistory, shippingOverrides, cardPayments, matchedDeposits: [...matchedDeposits], clickedChats: [...clickedChats], sentAddressRequests: [...sentAddressRequests], deletedDepositIds: [...deletedDepositIds], checkedOrders: [...checkedOrders], addressMapping, specialCustomers, inventory, templateConfig, depositorNames, keywords: [...keywords] }; const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(backupData)); const downloadAnchorNode = document.createElement('a'); downloadAnchorNode.setAttribute("href", dataStr); downloadAnchorNode.setAttribute("download", "kallo_backup_" + new Date().toISOString().slice(0,10) + ".json"); document.body.appendChild(downloadAnchorNode); downloadAnchorNode.click(); downloadAnchorNode.remove(); };
            const handleImportBackup = (e) => { const file = e.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = (event) => { try { const data = JSON.parse(event.target.result); openModal("ë°±ì—… ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì‹œê² ìŠµë‹ˆê¹Œ?", 'confirm', () => { if(data.orders) setOrders(data.orders); if(data.productHistory) setProductHistory(data.productHistory); if(data.shippingOverrides) setShippingOverrides(data.shippingOverrides); if(data.cardPayments) setCardPayments(data.cardPayments); if(data.matchedDeposits) setMatchedDeposits(new Set(data.matchedDeposits)); if(data.clickedChats) setClickedChats(new Set(data.clickedChats)); if(data.sentAddressRequests) setSentAddressRequests(new Set(data.sentAddressRequests)); if(data.deletedDepositIds) setDeletedDepositIds(new Set(data.deletedDepositIds)); if(data.checkedOrders) setCheckedOrders(new Set(data.checkedOrders)); if(data.addressMapping) setAddressMapping(data.addressMapping); if(data.specialCustomers) setSpecialCustomers(data.specialCustomers); if(data.inventory) setInventory(data.inventory); if(data.templateConfig) setTemplateConfig(data.templateConfig); if(data.depositorNames) setDepositorNames(data.depositorNames); if(data.keywords) setKeywords(new Set(data.keywords)); openModal("ë³µêµ¬ ì™„ë£Œ!", 'alert'); }); } catch(err) { openModal("íŒŒì¼ ì½ê¸° ì‹¤íŒ¨", 'alert'); } }; reader.readAsText(file); e.target.value = ''; };

            const openModal = (message, type = 'alert', onConfirm = null, onCancel = null, initialValue = '') => { setModalConfig({ isOpen: true, type, message, onConfirm: (val) => { if (onConfirm) onConfirm(val); setModalConfig(prev => ({ ...prev, isOpen: false })); }, onCancel: () => { if (onCancel) onCancel(); setModalConfig(prev => ({ ...prev, isOpen: false })); }, initialValue }); };
            
            return (
                <div className="flex flex-col h-screen overflow-hidden text-slate-700">
                     <header className="h-12 bg-indigo-900 text-white flex items-center justify-between px-4 shrink-0 shadow-md z-50">
                        <div className="font-bold text-lg flex items-center gap-2"><Icon name="lightning" className="text-yellow-400" weight="fill"/> ê¹”ë¡œ ì£¼ë¬¸ì„œ PRO</div>
                        <div className="flex items-center gap-2">
                            <div className="flex bg-indigo-800 rounded p-1 gap-1">
                                {[{ id: 'live', label: 'ë¼ì´ë¸Œê´€ì œ', icon: 'monitor-play' }, { id: 'status', label: 'ì¬ê³ /ë°œì£¼', icon: 'clipboard-text' }, { id: 'customer', label: 'ê³ ê°ê´€ë¦¬', icon: 'address-book' }, { id: 'cs', label: 'CSê´€ë¦¬', icon: 'headset' }, { id: 'manage', label: 'ì£¼ë¬¸ê´€ë¦¬(ì—‘ì…€)', icon: 'file-xls' }].map(tab => (
                                    <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-3 py-1.5 rounded text-sm font-bold flex items-center gap-1 transition-all ${activeTab === tab.id ? 'bg-white text-indigo-900 shadow' : 'text-indigo-300 hover:text-white'}`}><Icon name={tab.icon} weight="bold"/> {tab.label}</button>
                                ))}
                            </div>
                            <button onClick={()=>setIsSettingsOpen(!isSettingsOpen)} className="p-2 hover:bg-indigo-800 rounded text-indigo-300 hover:text-white"><Icon name="gear" weight="fill" size={20}/></button>
                        </div>
                    </header>
                    <Modal isOpen={modalConfig.isOpen} type={modalConfig.type} message={modalConfig.message} onConfirm={modalConfig.onConfirm} onCancel={modalConfig.onCancel} initialValue={modalConfig.initialValue} />
                     {isSettingsOpen && (
                        <div className="absolute top-12 right-4 bg-white shadow-xl border rounded-lg p-4 w-96 z-50 animate-pop max-h-[80vh] overflow-y-auto">
                            <h3 className="font-bold mb-4 flex items-center gap-2 border-b pb-2"><Icon name="gear" weight="fill" className="text-gray-500"/> í™˜ê²½ì„¤ì •</h3>
                            <div className="mb-4 space-y-4">
                                <div><label className="block text-xs font-bold text-indigo-600 mb-1">êµ¬ê¸€ ì•±ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ URL</label><input type="text" value={googleScriptUrl} onChange={(e)=>setGoogleScriptUrl(e.target.value)} className="w-full border rounded px-2 py-1.5 text-xs text-gray-600 font-mono break-all" /></div>
                                <div><label className="block text-xs font-bold text-green-600 mb-1">ê³ ê° ì£¼ì†Œë¡ ì‹œíŠ¸ ID</label><input type="text" value={customerSheetId} onChange={(e)=>setCustomerSheetId(e.target.value)} className="w-full border rounded px-2 py-1.5 text-xs text-gray-600 font-mono" /></div>
                                <div><label className="block text-xs font-bold text-gray-500 mb-1">ê¸°ë³¸ ë°°ì†¡ë¹„</label><input type="number" value={quickShipping} onChange={(e)=>setQuickShipping(Number(e.target.value))} className="w-full border rounded px-2 py-1.5 text-sm" /></div>
                                <div className="border-t pt-4"><h4 className="text-sm font-bold text-slate-800 mb-2 flex items-center gap-1"><Icon name="chat-text" weight="fill"/> ì£¼ë¬¸ì„œ ë©˜íŠ¸ ì„¤ì •</h4><div className="space-y-3">
                                    <div><label className="block text-[10px] font-bold text-gray-500 mb-1">ë‹‰ë„¤ì„ ì´ëª¨ì§€</label><input type="text" value={templateConfig.emoji} onChange={(e)=>setTemplateConfig({...templateConfig, emoji: e.target.value})} className="w-full border rounded px-2 py-1.5 text-sm" /></div>
                                    <div className="flex flex-wrap gap-1 bg-slate-50 p-1.5 rounded border border-slate-100">{["ğŸ’™", "ğŸ’–", "ğŸ’›", "ğŸ’š", "ğŸ’œ", "ğŸ¤", "â­", "ğŸŒŸ", "âœ¨", "ğŸŒ¸", "ğŸŒ¼", "ğŸ€", "âœ…", "ğŸ", "ğŸ“¢", "ğŸŒˆ", "ğŸ”¥", "ğŸ’"].map(em => (<button key={em} onClick={() => setTemplateConfig({...templateConfig, emoji: em})} className="w-5 h-5 flex items-center justify-center hover:bg-white rounded hover:shadow-sm transition-all text-xs">{em}</button>))}</div>
                                    <div><label className="block text-[10px] font-bold text-gray-500 mb-1">ì™„ë‚© ë©”ì‹œì§€</label><input type="text" value={templateConfig.paidMsg} onChange={(e)=>setTemplateConfig({...templateConfig, paidMsg: e.target.value})} className="w-full border rounded px-2 py-1.5 text-sm" /></div>
                                    <div><label className="block text-[10px] font-bold text-gray-500 mb-1">ë¯¸ë‚© ì•ˆë‚´</label><textarea value={templateConfig.unpaidPrefix} onChange={(e)=>setTemplateConfig({...templateConfig, unpaidPrefix: e.target.value})} className="w-full border rounded px-2 py-1.5 text-xs h-16 resize-none" /></div>
                                    <div><label className="block text-[10px] font-bold text-gray-500 mb-1">ê³„ì¢Œë²ˆí˜¸</label><textarea value={bankAccount} onChange={(e)=>setBankAccount(e.target.value)} className="w-full border rounded px-2 py-1.5 text-xs h-12 resize-none" /></div>
                                    <div><label className="block text-[10px] font-bold text-gray-500 mb-1">ì£¼ì†Œ ìˆìŒ ì•ˆë‚´</label><textarea value={templateConfig.addrNotice} onChange={(e)=>setTemplateConfig({...templateConfig, addrNotice: e.target.value})} className="w-full border rounded px-2 py-1.5 text-xs h-12 resize-none" /></div>
                                    <div><label className="block text-[10px] font-bold text-gray-500 mb-1">ì£¼ì†Œ ì—†ìŒ ì•ˆë‚´</label><textarea value={templateConfig.surveyNotice} onChange={(e)=>setTemplateConfig({...templateConfig, surveyNotice: e.target.value})} className="w-full border rounded px-2 py-1.5 text-xs h-24 resize-none" /></div>
                                </div></div>
                            </div>
                            <button onClick={()=>setIsSettingsOpen(false)} className="w-full bg-indigo-600 text-white rounded py-2 text-sm font-bold hover:bg-indigo-700 sticky bottom-0">ì €ì¥ ë° ë‹«ê¸°</button>
                        </div>
                    )}
                     <main className="flex-1 overflow-hidden bg-gray-200 p-2 relative">
                        {activeTab === 'live' && <LiveTab {...{ orders, setOrders, productHistory, setProductHistory, quickShipping, shippingOverrides, setShippingOverrides, bankAccount, googleScriptUrl, addresses, cardPayments, setCardPayments, resetAllStatus, matchedDeposits, setMatchedDeposits, depositorNames, setDepositorNames, clickedChats, setClickedChats, openModal, keywords, setKeywords, sentAddressRequests, setSentAddressRequests, deletedDepositIds, setDeletedDepositIds, checkedOrders, setCheckedOrders, addressMapping, setAddressMapping, templateConfig, specialCustomers, inventory }} />}
                        {activeTab === 'status' && <OrderStatusTab {...{ orders, setOrders, setProductHistory, productHistory, inventory, setInventory }} />}
                        {activeTab === 'customer' && <CustomerTab {...{ addresses, setAddresses, googleScriptUrl, customerSheetId, openModal, specialCustomers, setSpecialCustomers }} />}
                        {activeTab === 'cs' && <CSTab {...{ csData, setCsData, openModal }} />}
                        {activeTab === 'manage' && <OrderManagementTab {...{ orders, shippingOverrides, quickShipping, addresses, handleExportBackup, handleImportBackup, addressMapping, cardPayments }} />}
                     </main>
                </div>
             )
        }
        
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
